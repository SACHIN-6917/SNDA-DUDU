{% extends 'admin_list_base.html' %}

{% block head_title %}Users - DUDU ADMIN{% endblock %}

{% block list_title %}Registered Users{% endblock %}
{% block list_subtitle %}View all students and customers registered on the platform.{% endblock %}

{% block table_head %}
<th>Avatar</th>
<th>Username</th>
<th>Email</th>
<th>Phone</th>
<th>Joined</th>
<th>Role</th>
{% endblock %}

{% block table_body %}
{% for user in users %}
<tr>
    <td>
        <div class="user-avatar" style="width: 32px; height: 32px; font-size: 0.8rem;">
            {% if user.profile.avatar %}
                <img src="{{ user.profile.avatar }}" style="width: 100%; height: 100%; border-radius: 50%;">
            {% else %}
                {{ user.username|slice:":1"|upper }}
            {% endif %}
        </div>
    </td>
    <td><strong>{{ user.username }}</strong></td>
    <td>{{ user.email }}</td>
    <td>{{ user.profile.phone|default:"-" }}</td>
    <td>{{ user.date_joined|date:"M j, Y" }}</td>
    <td><span style="text-transform: capitalize;">{{ user.profile.role }}</span></td>
</tr>
{% empty %}
<tr>
    <td colspan="6" style="text-align: center; padding: 40px; color: #999;">No users found.</td>
</tr>
{% endfor %}
{% endblock %}
